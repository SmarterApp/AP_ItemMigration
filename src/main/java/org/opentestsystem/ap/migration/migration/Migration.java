package org.opentestsystem.ap.migration.migration;

import org.opentestsystem.ap.common.datastore.entity.ItemEntity;
import org.opentestsystem.ap.migration.model.MigrationContext;
import org.opentestsystem.ap.migration.model.MigrationItemResult;
import org.opentestsystem.ap.migration.model.MigrationResult;

/**
 * Migrations that handle data changes to item entities
 */
public interface Migration {

    /**
     * Migrates an master item entity (and possibly branches)
     *
     * @param masterItemEntity the "master" {@link ItemEntity}
     * @param migrationContext the {@link MigrationContext}
     * @param result           the {@link MigrationItemResult} possibly populated by migrations
     * @return the {@link MigrationResult} indicating if something was migrated
     */
    MigrationResult migrate(ItemEntity masterItemEntity, MigrationContext migrationContext, MigrationItemResult result);
}
