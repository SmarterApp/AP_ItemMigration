package org.opentestsystem.ap.migration.contentupdater;

import org.opentestsystem.ap.common.model.ItemConstants;
import org.springframework.stereotype.Component;

import java.util.HashMap;
import java.util.Map;

@Component
public class ContentUpdaterFactory {

    private static final Map<String, ContentUpdater> CONTENT_UPDATER_MAP = buildContentUpdaterMap();

    @SuppressWarnings("unchecked")
    private static Map<String, ContentUpdater> buildContentUpdaterMap() {
        Map updaterMap = new HashMap<String, ContentUpdater>();
        updaterMap.put(ItemConstants.ItemType.TYPE_EBSR, new EbsrContentUpdater());
        updaterMap.put(ItemConstants.ItemType.TYPE_EQ, new EqContentUpdater());
        updaterMap.put(ItemConstants.ItemType.TYPE_GI, new GiContentUpdater());
        updaterMap.put(ItemConstants.ItemType.TYPE_HTQO, new HtqoContentUpdater());
        updaterMap.put(ItemConstants.ItemType.TYPE_HTQS, new HtqsContentUpdater());
        updaterMap.put(ItemConstants.ItemType.TYPE_MC, new McContentUpdater());
        updaterMap.put(ItemConstants.ItemType.TYPE_MI, new MiContentUpdater());
        updaterMap.put(ItemConstants.ItemType.TYPE_MS, new MsContentUpdater());
        updaterMap.put(ItemConstants.ItemType.TYPE_SA, new SaContentUpdater());
        updaterMap.put(ItemConstants.ItemType.TYPE_STIM, new StimContentUpdater());
        updaterMap.put(ItemConstants.ItemType.TYPE_TI, new TiContentUpdater());
        updaterMap.put(ItemConstants.ItemType.TYPE_WER, new WerContentUpdater());

        return updaterMap;
    }

    public ContentUpdater getContentUpdaterForType(String itemType) {
        return CONTENT_UPDATER_MAP.get(itemType);
    }
}
