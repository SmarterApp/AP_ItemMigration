package org.opentestsystem.ap.migration.contentupdater;

import org.opentestsystem.ap.common.model.StimItem;
import org.opentestsystem.ap.common.model.content.StimItemContent;

import static org.opentestsystem.ap.common.model.ModelConstants.ItemLanguage.LANG_ESN;

public class StimContentUpdater extends AbstractContentUpdater<StimItem> {

    @Override
    protected boolean updateEnglishContent(StimItem item, ContentUpdateCommand updateCommand) {
        StimItemContent content = item.getCore().getEn();
        content.setContent(updateCommand.applyEnglishContentUpdate(content.getContent()));

        return true;
    }

    @Override
    protected boolean updateSpanishContent(StimItem item, ContentUpdateCommand updateCommand) {
        StimItemContent english = item.getCore().getEn();
        StimItemContent spanish = item.getTranslations().getEsp();
        spanish.setContent(updateCommand.applyTranslatedContentUpdate(LANG_ESN, spanish.getContent(), english.getContent()));

        return true;
    }
}
