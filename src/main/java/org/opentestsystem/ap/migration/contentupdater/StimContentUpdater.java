package org.opentestsystem.ap.migration.contentupdater;

import org.opentestsystem.ap.common.model.Item;
import org.opentestsystem.ap.common.model.ItemConstants;
import org.opentestsystem.ap.common.model.StimItem;
import org.opentestsystem.ap.common.model.content.StimItemContent;

@UpdateFor(type = ItemConstants.ItemType.TYPE_STIM)
public class StimContentUpdater extends ContentUpdater {
    @Override
    public void updateContent(Item item, ContentUpdateCommand contentUpdateCommand) {
        this.updateCommand = contentUpdateCommand;
        StimItem stimItem = (StimItem) item;
        updateItemContent(stimItem.getCore().getEn());
        updateItemContent(stimItem.getTranslations().getEsp());
    }

    private void updateItemContent(StimItemContent content) {
        content.setContent(this.updateCommand.applyContentUpdate(content.getContent()));
    }
}
