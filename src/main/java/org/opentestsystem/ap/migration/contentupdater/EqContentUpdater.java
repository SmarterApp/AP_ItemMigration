package org.opentestsystem.ap.migration.contentupdater;

import org.opentestsystem.ap.common.model.EqItem;
import org.opentestsystem.ap.common.model.content.EqItemContent;

import static org.opentestsystem.ap.common.model.ItemConstants.ItemLanguage.LANG_ESN;

public class EqContentUpdater extends AbstractContentUpdater<EqItem> {

    protected void updateEnglishContent(EqItem item, ContentUpdateCommand updateCommand) {
        EqItemContent english = item.getCore().getEn();

        english.setPrompt(
            updateCommand.applyContentUpdate(english.getPrompt()));

        item.getCore().getScoring().setRubric(
            updateCommand.applyContentUpdate(item.getCore().getScoring().getRubric()));
    }

    protected void updateSpanishContent(EqItem item, ContentUpdateCommand updateCommand) {
        EqItemContent english = item.getCore().getEn();
        EqItemContent spanish = item.getTranslations().getEsp();
        spanish.setPrompt(updateCommand.applyContentUpdate(LANG_ESN, spanish.getPrompt(), english.getPrompt()));
    }
}
