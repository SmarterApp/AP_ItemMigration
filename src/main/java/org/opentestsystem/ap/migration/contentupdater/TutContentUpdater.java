package org.opentestsystem.ap.migration.contentupdater;

import org.opentestsystem.ap.common.model.TutItem;
import org.opentestsystem.ap.common.model.content.TutItemContent;

import static org.opentestsystem.ap.common.model.ModelConstants.ItemLanguage.LANG_ESN;

public class TutContentUpdater extends AbstractContentUpdater<TutItem> {

    @Override
    protected boolean updateEnglishContent(TutItem item, ContentUpdateCommand updateCommand) {
        TutItemContent content = item.getCore().getEn();
        content.setContent(updateCommand.applyEnglishContentUpdate(content.getContent()));

        return true;
    }

    protected boolean updateSpanishContent(TutItem item, ContentUpdateCommand updateCommand) {
        TutItemContent english = item.getCore().getEn();
        TutItemContent spanish = item.getTranslations().getEsp();
        spanish.setContent(updateCommand.applyTranslatedContentUpdate(LANG_ESN, spanish.getContent(), english.getContent()));

        return true;
    }
}
