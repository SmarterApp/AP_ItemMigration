package org.opentestsystem.ap.migration.contentupdater;

import org.opentestsystem.ap.common.model.Item;
import org.opentestsystem.ap.common.model.TutItem;
import org.opentestsystem.ap.common.model.content.TutItemContent;

public class TutContentUpdater implements ContentUpdater{
    @Override
    public void updateContent(Item item, ContentUpdateCommand contentUpdateCommand) {
        TutItem tutItem = (TutItem) item;
        updateItemContent(tutItem.getCore().getEn(), contentUpdateCommand);
        updateItemContent(tutItem.getTranslations().getEsp(), contentUpdateCommand);
    }

    private void updateItemContent(TutItemContent content,
                                   ContentUpdateCommand updateCommand) {
        content.setContent(updateCommand.applyContentUpdate(content.getContent()));

    }
}
