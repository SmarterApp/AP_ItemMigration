package org.opentestsystem.ap.migration.model;

import lombok.Data;
import org.opentestsystem.ap.common.model.ItemTransaction;
import org.opentestsystem.ap.common.model.sync.SyncItemResult;

import static org.apache.commons.lang3.StringUtils.startsWithIgnoreCase;

@Data
public class BranchInfo {

    private final String itemId;

    private final String branchName;

    private ItemTransaction transaction;

    private String itemVersion;

    private boolean failedToLoad;

    private String errorMessage;

    private Throwable error;

    private SyncItemResult.Branch syncResult;

    public boolean isMasterBranch() {
        return startsWithIgnoreCase(branchName, "master");
    }

    public boolean isCreateBranch() {
        return startsWithIgnoreCase(branchName, "create");
    }

    public boolean isEditBranch() {
        return !isMasterBranch() && !isCreateBranch();
    }
}
