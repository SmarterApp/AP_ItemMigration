package org.opentestsystem.ap.migration.mapper;

import org.opentestsystem.ap.common.exception.ResourceNotFoundException;
import org.opentestsystem.ap.common.model.ItemConstants;

public class IatModelMapperFactory {
    private static IatModelMapperFactory instance;

    public IatModelMapperFactory() { }

    public static IatModelMapperFactory getInstance(){
        if(instance == null) {
            instance = new IatModelMapperFactory();
        }
        return instance;
    }

    public IatModelMapper newModelMapper(String itemType) {
        final IatModelMapper mapper;

        switch (itemType.toLowerCase()) {
            case ItemConstants.ItemType.TYPE_STIM :
                mapper = new StimModelMapper();
                break;
            case ItemConstants.ItemType.TYPE_TUT :
                mapper = new TutModelMapper();
                break;
            case ItemConstants.ItemType.TYPE_SA :
                mapper = new SaModelMapper();
                break;
            case ItemConstants.ItemType.TYPE_WER :
                mapper = new WerModelMapper();
                break;
            case ItemConstants.ItemType.TYPE_MC :
                mapper = new McModelMapper();
                break;
            case ItemConstants.ItemType.TYPE_MS :
                mapper = new MsModelMapper();
                break;
            case ItemConstants.ItemType.TYPE_EBSR :
                mapper = new EbsrModelMapper();
                break;
            case ItemConstants.ItemType.TYPE_HTQS :
                mapper = new HtqsModelMapper();
                break;
            case ItemConstants.ItemType.TYPE_HTQO :
                mapper = new HtqoModelMapper();
                break;
            case ItemConstants.ItemType.TYPE_MI :
                mapper = new MiModelMapper();
                break;
            case ItemConstants.ItemType.TYPE_TI :
                mapper = new TiModelMapper();
                break;
            case ItemConstants.ItemType.TYPE_EQ :
                mapper = new EqModelMapper();
                break;
            case ItemConstants.ItemType.TYPE_GI :
                mapper = new GiModelMapper();
                break;
            default:
                throw new ResourceNotFoundException(String.format("[%s] Item type not supported for Import", itemType));
        }

        return mapper;
    }
}
